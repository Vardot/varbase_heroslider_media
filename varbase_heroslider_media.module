<?php

/**
 * @file
 * The varbase_heroslider_media.module.
 */

use Drupal\Core\Entity\EntityInterface;
use Drupal\Core\Entity\Display\EntityViewDisplayInterface;
use Drupal\views\ViewExecutable;

/**
 * Implements hook_theme().
 */
function varbase_heroslider_media_theme($existing, $type, $theme, $path) {
  return [
    'node__varbase_heroslider_media' => [
      'template' => 'node--varbase-heroslider-media',
      'base hook' => 'node',
    ],
    'media_oembed_iframe' => [
      'template' => 'media-oembed-iframe--heroslider',
    ],
  ];
}

/**
 * Implements hook_theme_suggestions_media_oembed_iframe_alter().
 */
function varbase_heroslider_media_theme_suggestions_media_oembed_iframe_alter(array &$suggestions, array &$variables) {

  if (isset($variables['provider_name'])) {
    $suggestions[] = 'media-oembed-iframe--heroslider';
    $suggestions[] = 'media-oembed-iframe--heroslider--provider--' . $variables['provider_name'];
  }

  $variables['module_handler_path'] = \Drupal::service('module_handler')->getModule("varbase_heroslider_media")->getPath();
  $variables['theme_handler_path'] = \Drupal::theme()->getActiveTheme()->getPath();
  $variables['base_path'] = base_path();

  return $suggestions;

}
